<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Android NDK | Jørgen's Blog]]></title>
  <link href="http://jorgen.tjer.no/blog/categories/android-ndk/atom.xml" rel="self"/>
  <link href="http://jorgen.tjer.no/"/>
  <updated>2014-05-24T12:11:45-07:00</updated>
  <id>http://jorgen.tjer.no/</id>
  <author>
    <name><![CDATA[Jørgen Tjernø]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Droidcon UK 2012: Slides & recap]]></title>
    <link href="http://jorgen.tjer.no/post/2012/10/28/droidcon-uk-2012-slides-recap/"/>
    <updated>2012-10-28T09:09:00-07:00</updated>
    <id>http://jorgen.tjer.no/post/2012/10/28/droidcon-uk-2012-slides-recap</id>
    <content type="html"><![CDATA[<p>On Friday I spoke at <a href="http://uk.droidcon.com">Droidcon UK 2012</a>, and it was my very first conference talk, titled <a href="http://uk.droidcon.com/2012/sessions/the-butler-did-it-continuously-building-enforcing-app-quality-using-jenkins/">The Butler Did It: Continuously building &amp; enforcing app quality using Jenkins</a>.</p>

<p>I did the talk together with <a href="http://chris.orr.me.uk/+">Christopher Orr</a>, and the topic was using <a href="http://jenkins-ci.org/">Jenkins CI</a> and <a href="http://code.google.com/p/gerrit/">Gerrit</a> to improve app quality when building Android software. It also included a short rant about the Android NDK. I thought it went surprisingly well, especially considering I was fueled by only 5 hours of sleep!</p>

<p>The turn-out was great &ndash; every seat was occupied, and we got a lot of interest in the form of questions afterwards. Here you can find the source material for our talk &ndash; our slides are pretty light on text, so we also have a version with a more fleshed out version of our speaker notes.</p>

<p>I&rsquo;ve been told by the Droidcon organizers that they&rsquo;ll publish the video from the talk. I&rsquo;ll post an update once that&rsquo;s available.</p>

<p>In addition, the demo doesn&rsquo;t have any audio or captioning so far, but hopefully we&rsquo;ll update soon with a narrated or captioned video.</p>

<ul>
<li><a href="https://dl.dropbox.com/u/987046/Presentations/droidcon_slides_with_notes.pdf">Slides with notes (PDF)</a></li>
<li><a href="https://dl.dropbox.com/u/987046/Presentations/droidcon_slides.pdf">Slides without notes (PDF)</a></li>
<li><a href="http://youtu.be/E3ZHBD1Med8">Jenkins &amp; Android demo (YouTube)</a></li>
</ul>


<p>If you&rsquo;d like to contact me or Chris, the contact information is on the last slide.</p>

<p><strong>EDIT April 2014</strong>: I finally found the video of the talk, it requires a (free) sign-up, and is <a href="https://skillsmatter.com/skillscasts/3729-the-butler-did-it-continuously-building-enforcing-app-quality-using-jenkins">available on SkillsMatter.com</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Requiring a minimum version of the Android NDK]]></title>
    <link href="http://jorgen.tjer.no/post/2012/03/02/requiring-a-minimum-version-of-the-android-ndk/"/>
    <updated>2012-03-02T13:22:00-08:00</updated>
    <id>http://jorgen.tjer.no/post/2012/03/02/requiring-a-minimum-version-of-the-android-ndk</id>
    <content type="html"><![CDATA[<p>I was tinkering with our build system at work, and I realized that builds were failing on r5b and below. After a bit of debugging (and reading the NDK changelog), I realized that <code>LOCAL_WHOLE_STATIC_LIBRARIES</code> was broken in r5b and missing in r4 and before. To prevent other engineers from running into this, I wanted to make our project depend on r5c or above.</p>

<p>There doesn&rsquo;t seem to be a facility in place to do this, so I created a shellscript you can invoke from your <code>Makefile</code> to assert that the right version of the NDK is present. You can find <a href="https://gist.github.com/1961404">the shellscript as a gist on GitHub</a></p>

<p><strong>EDIT</strong>: This script depends on the environment variable ANDROID_NDK_ROOT to point to the base of your NDK. The script has been updated to test that this is the case (thanks to David R. for pointing this out).</p>

<p>The only caveat is that it does <em>not</em> support asserting versions below r5 &ndash; this is because only r5 and above have a version identifier in the NDK tree. It will correctly identify r4 and below as not being good enough for your build, but you can&rsquo;t say &ldquo;I need r3 or above&rdquo;.</p>

<p>Put the script into <code>jni/assert_ndk_version.sh</code>, and put the following at the top of your <code>jni/Android.mk</code>, and voilà! Builds should now fail with a more understandable message if someone&rsquo;s using the wrong NDK version. :&ndash;)</p>

<p><code>make jni/Android.mk
ifneq ($(shell $(LOCAL_PATH)/assert_ndk_version.sh "r5c"),true)
  $(error NDK version r5c or greater required)
endif
</code></p>
]]></content>
  </entry>
  
</feed>
